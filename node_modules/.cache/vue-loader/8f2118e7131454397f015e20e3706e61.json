{"remainingRequest":"/home/georges/projects/tatutituta/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/georges/projects/tatutituta/app/src/components/Score.vue?vue&type=style&index=1&lang=scss&","dependencies":[{"path":"/home/georges/projects/tatutituta/app/src/components/Score.vue","mtime":1594043683106},{"path":"/home/georges/projects/tatutituta/app/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/georges/projects/tatutituta/app/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/georges/projects/tatutituta/app/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/georges/projects/tatutituta/app/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/georges/projects/tatutituta/app/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/home/georges/projects/tatutituta/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/georges/projects/tatutituta/app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouc2NvcmUgewogIGltZyB7CiAgICB6LWluZGV4OiAxICFpbXBvcnRhbnQ7CiAgfQp9Cg=="},{"version":3,"sources":["Score.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8DA;AACA;AACA;AACA;AACA","file":"Score.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <div class=\"score-progress\" v-if=\"scoreLoading || !ready\">\n      <v-progress-circular :size=\"60\" color=\"primary\" indeterminate></v-progress-circular>\n    </div>\n    <div class=\"score\" ref=\"scorediv\" v-show=\"!scoreLoading\" :style=\"{opacity: ready ? 100 : 0}\"></div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { OpenSheetMusicDisplay } from \"opensheetmusicdisplay\";\nexport default {\n  props: [\"score\", \"ready\"],\n  data() {\n    return {\n      osmd: null,\n      scoreLoading: false\n    };\n  },\n  watch: {\n    score(val, oldVal) {\n      if (!val || val === oldVal) return;\n      this.loadScore(val);\n    }\n  },\n  async mounted() {\n    this.osmd = new OpenSheetMusicDisplay(this.$refs.scorediv, {\n      followCursor: true,\n      autoResize: false\n      // backend: \"canvas\"\n    });\n    this.$emit(\"osmdInit\", this.osmd);\n    if (this.score) this.loadScore(this.score);\n  },\n  methods: {\n    async loadScore(scoreUrl) {\n      this.scoreLoading = true;\n      let scoreXml = await axios.get(scoreUrl);\n      await this.osmd.load(scoreXml.data);\n      this.scoreLoading = false;\n      await this.$nextTick();\n      await this.osmd.render();\n      this.$emit(\"scoreLoaded\");\n    }\n  }\n};\n</script>\n\n<style scoped lang=\"scss\">\n.score {\n  width: 100%;\n  -webkit-box-shadow: 0px 4px 5px 0px rgba(0, 0, 0, 0.4);\n  -moz-box-shadow: 0px 4px 5px 0px rgba(0, 0, 0, 0.4);\n  box-shadow: 0px 4px 5px 0px rgba(0, 0, 0, 0.4);\n}\n.score-progress {\n  text-align: center;\n}\n</style>\n\n<style lang=\"scss\">\n.score {\n  img {\n    z-index: 1 !important;\n  }\n}\n</style>"]}]}